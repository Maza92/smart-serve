<div class="bg-white rounded-xl w-full">
  <div
    class="flex justify-between items-center mb-2 p-4 border-b border-gray-300"
  >
    <h2 class="text-lg font-medium">Editar Proveedor</h2>
    <button (click)="closeModal()" class="text-gray-500">
      <i-lucide name="x" class="w-6 h-6"></i-lucide>
    </button>
  </div>

  <form [formGroup]="supplierForm" (ngSubmit)="saveSupplier()" class="p-4">
    <div class="mb-4">
      <label for="name" class="block text-sm font-medium text-gray-700 mb-1"
        >Nombre</label
      >
      <input
        type="text"
        id="name"
        formControlName="name"
        class="form-input w-full p-2"
        placeholder="Nombre del proveedor"
      />
      <div
        *ngIf="
          supplierForm.get('name')?.invalid && supplierForm.get('name')?.touched
        "
        class="text-error text-xs mt-1"
      >
        El nombre es requerido
      </div>
    </div>

    <div class="mb-4">
      <label
        for="contactPerson"
        class="block text-sm font-medium text-gray-700 mb-1"
        >Persona de Contacto</label
      >
      <input
        type="text"
        id="contactPerson"
        formControlName="contactPerson"
        class="form-input w-full p-2"
        placeholder="Nombre de la persona de contacto"
      />
      <div
        *ngIf="
          supplierForm.get('contactPerson')?.invalid &&
          supplierForm.get('contactPerson')?.touched
        "
        class="text-error text-xs mt-1"
      >
        La persona de contacto es requerida
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4 mb-4">
      <div>
        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1"
          >Teléfono</label
        >
        <input
          type="text"
          id="phone"
          formControlName="phone"
          class="form-input w-full p-2"
          placeholder="Número de teléfono"
        />
        <div
          *ngIf="
            supplierForm.get('phone')?.invalid &&
            supplierForm.get('phone')?.touched
          "
          class="text-error text-xs mt-1"
        >
          El teléfono es requerido
        </div>
      </div>

      <div>
        <label for="email" class="block text-sm font-medium text-gray-700 mb-1"
          >Email</label
        >
        <input
          type="email"
          id="email"
          formControlName="email"
          class="form-input w-full p-2"
          placeholder="correo@ejemplo.com"
        />
        <div
          *ngIf="
            supplierForm.get('email')?.invalid &&
            supplierForm.get('email')?.touched
          "
          class="text-error text-xs mt-1"
        >
          <span *ngIf="supplierForm.get('email')?.errors?.['required']"
            >El email es requerido</span
          >
          <span *ngIf="supplierForm.get('email')?.errors?.['email']"
            >El email no es válido</span
          >
        </div>
      </div>
    </div>

    <div class="mb-4">
      <label for="address" class="block text-sm font-medium text-gray-700 mb-1"
        >Dirección</label
      >
      <textarea
        id="address"
        formControlName="address"
        class="form-input w-full p-2"
        placeholder="Dirección del proveedor"
        rows="3"
      ></textarea>
      <div
        *ngIf="
          supplierForm.get('address')?.invalid &&
          supplierForm.get('address')?.touched
        "
        class="text-error text-xs mt-1"
      >
        La dirección es requerida
      </div>
    </div>

    <div
      class="flex items-center justify-between gap-2 mb-6 bg-on-surface rounded-2xl p-6"
    >
      <p class="text-sm text-black">Activo</p>
      <label class="relative inline-flex items-center cursor-pointer">
        <input
          type="checkbox"
          class="sr-only peer"
          id="isActive"
          formControlName="isActive"
        />
        <div
          class="w-11 h-6 bg-gray-400 rounded-full peer peer-checked:bg-primary-key peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all"
        ></div>
      </label>
    </div>

    <div class="flex gap-2 mt-6">
      <button
        type="button"
        (click)="closeModal()"
        class="button button-outline w-full"
      >
        Cancelar
      </button>
      <button
        type="submit"
        class="button button-primary w-full"
        [disabled]="loading"
      >
        <i-lucide
          *ngIf="loading"
          name="loader"
          class="animate-spin mr-2 h-4 w-4"
        ></i-lucide>
        Guardar
      </button>
    </div>
  </form>
</div>
